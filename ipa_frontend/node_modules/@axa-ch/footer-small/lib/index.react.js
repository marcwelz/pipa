import e from"@skatejs/val";import{html as t,LitElement as n,css as s,unsafeCSS as a}from"lit";import{repeat as o}from"lit/directives/repeat.js";import{classMap as i}from"lit/directives/class-map.js";import r from"@axa-ch/container";var l=(e,t)=>{const n=e.toLowerCase();return window.customElements.get(n)||window.customElements.define(n,t),n};const c=(e,t)=>{return`${e}-${n=t,`${n}`.replace(/\./g,"-").replace(/[^A-Za-z0-9-]/g,"")}`;var n},m=(e,t="",n="<")=>`${n}${t}${e}`,d=(e,t,n)=>m(c(e,t),n,"{"),p=(e,t,n)=>e.map((e=>e.split(m(t)).join(d(t,n)).split(m(t,"/")).join(d(t,n,"/")))),f=(e,t,n)=>{const s="string"==typeof t&&t;let a="";return e.forEach((e=>{const o=e instanceof HTMLElement?e.constructor:e,{tagName:i}=o,r=!s&&t[i];if(r){if(!window.customElements.get(i)&&o.versions)throw Error(`'versions' is a reserved class property, but was found in ${i}'s class`);o.versions=r,l(i,o)}let{versions:m}=o;!m&&n&&(m=t[n.constructor.tagName],m[i]=Object.values(m)[0]);const d=s||m[i];a=c(i,d),l(a,class extends o{})})),a},u=e=>(n,...s)=>{const a=e.constructor,[o,i]=(e=>{const{versions:t,tagName:n}=e,s=Object.keys(t).filter((e=>e!==n)).sort(((e,t)=>t.length-e.length));return[s,s.map((e=>t[e]))]})(a);let r=n;for(let e=0,t=o.length;e<t;e++)r=p(r,o[e],i[e]);for(let e=0,t=r.length;e<t;e++)r[e]=r[e].split("{").join("<");return r.raw=r,t(r,...s)},h=(e,t)=>{const n={},s={};let a;return Object.keys(e).forEach((o=>{const i=e[o];let r;const l=t.properties[o]||{},{type:c}=l;switch(r=0===o.indexOf("on")&&o.charAt(2)===o.charAt(2).toUpperCase()?Function:"className"===o?"className":c,r){case"className":case Array:case Object:case Function:case Boolean:a=s;break;default:a=c?s:n}void 0!==i&&(a[o]="style"===o?(e=>Object.keys(e).reduce(((t,n)=>{let s=t;return`${s+=n.split(/(?=[A-Z])/).join("-").toLowerCase()}:${e[n]};`}),""))(i):i)})),{attrs:n,props:s}};const g=e=>!(null==e),y=new Map;[[String,""],[Boolean,!1],[Object,{}],[Array,[]],[Number,0],[Function,()=>{}]].forEach((([e,t])=>{y.set(e,t)}));const _=()=>{},b=e=>{const{constructor:{properties:t}}=e;Object.keys(t).forEach((n=>{const s=t[n],{type:a,converter:o,defaultValue:i}=s;if(!a){if(!o)throw new Error(`<${e.nodeName}> property "${n}" is missing a type!`);return}let r=e[n];g(r)||(r=a===Boolean?e.hasAttribute(n):e.getAttribute(n),g(r)?e[n]=((e,t)=>t===Number?parseFloat(e):t===Function?_:t===Array||t===Object?JSON.parse(e):e)(r,a):void 0===i&&"defaultValue"in s||(e[n]="defaultValue"in s?i:y.get(a)))}))},x={};class v extends n{inlineStyles(e="styles"){const t=this.getRootNode(),n=x[this.tagName]||new WeakMap,s=n.get(t)||{},a=(s.referenceCount||0)+1;if(s.referenceCount=a,n.set(t,a),x[this.tagName]=n,1===a){this.ownerDocument!==t&&(this._rootNode=t);const n=document.createElement("style");let a=this.constructor[e];const o=this.nodeName.toLowerCase(),i=this.constructor.tagName;o!==i&&(a=a.split(i).join(o)),n.textContent=a,n.dataset.name=this.tagName.toLowerCase();(t instanceof ShadowRoot?t:document.head).appendChild(n),s.style=n}n.set(t,s),x[this.tagName]=n}disconnectedCallback(){super.disconnectedCallback();const e=x[this.tagName];if(!e)return;const t=this._rootNode||this.ownerDocument,n=e.get(t)||{},s=(n.referenceCount||0)-1;if(s<1){e.delete(t);const{style:s}=n;s&&s.parentNode&&s.parentNode.removeChild(s)}else n.referenceCount=s,e.set(t,n)}}var k=(e,t,n,{bubbles:s=!0,composed:a=!0}={})=>{const o=new CustomEvent(e,{detail:t,bubbles:s,composed:a});return n.dispatchEvent(o),o};const w="m-footer-small__link--active";class C extends v{static get tagName(){return"axa-footer-small"}static get styles(){return s`
      ${a('.m-footer-small {\n  background: #3032c1;\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n}\n.m-footer-small__container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n  padding: 15px 0;\n  color: #fff;\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n}\n@media (min-width: 48em) {\n  .m-footer-small__container {\n    flex-direction: row;\n    justify-content: space-between;\n  }\n}\n.m-footer-small__list {\n  margin: 0;\n  padding: 0;\n  text-indent: 0;\n  list-style-type: none;\n  padding-right: 5px;\n}\n.m-footer-small__list-item {\n  display: inline-block;\n}\n.m-footer-small__list-item::after {\n  content: "|";\n  margin-left: 5px;\n  margin-right: 5px;\n  opacity: 0.65;\n}\n.m-footer-small__list-item:last-child::after {\n  content: "";\n  display: inline-block;\n  margin-left: 5px;\n  margin-right: 5px;\n}\n.m-footer-small__disclaimer {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 100%;\n  padding-top: 10px;\n}\n@media (min-width: 48em) {\n  .m-footer-small__disclaimer {\n    width: auto;\n    padding-top: 0px;\n  }\n}\n.m-footer-small__link--bold {\n  font-size: 14px;\n  letter-spacing: 0.02em;\n  line-height: 17px;\n  font-family: "Source Sans Pro", Arial, sans-serif;\n  font-weight: bold;\n}\n.m-footer-small a {\n  cursor: pointer;\n  text-decoration: none;\n  opacity: 0.65;\n  color: #fff;\n}\n.m-footer-small a.m-footer-small__link--active, .m-footer-small a:hover {\n  opacity: 1;\n}')}
    `}static get properties(){return{dynamic:{type:Boolean},onLanguageClick:{type:Function,attribute:!1},onDisclaimerClick:{type:Function,attribute:!1}}}constructor(){super(),b(this),this.handleLanguageClick=this.handleLanguageClick.bind(this),this.handleDisclaimerClick=this.handleDisclaimerClick.bind(this),f([r],{"axa-footer-small":{"axa-footer-small":"7.0.2","axa-container":"5.0.2"}},this)}static get resetHeadingCss(){return"axa-footer-small span {\n  opacity: 0.65;\n}"}handleLanguageClick(e,t){this.dynamic&&(e.preventDefault(),[...this.querySelectorAll('[slot="language-item"]')].forEach(((e,n)=>{n===t?e.classList.add(w):e.classList.remove(w)})),this.onLanguageClick(t),k("axa-language-click",t,this),this.requestUpdate())}handleDisclaimerClick(e,t){this.dynamic&&(e.preventDefault(),this.onDisclaimerClick(t),k("axa-disclaimer-click",t,this))}firstUpdated(){this.inlineStyles("resetHeadingCss"),this._observer=new MutationObserver((()=>this.requestUpdate())),this._observer.observe(this,{attributes:!0,childList:!0,subTree:!0})}disconnectedCallback(){super.disconnectedCallback(),this._observer.disconnect()}render(){return u(this)`
      <article class="m-footer-small">
        <axa-container>
          <div class="m-footer-small__container">
            <ul class="m-footer-small__list">
              ${o(this.querySelectorAll('[slot="language-item"]'),((e,n)=>{const s=e.classList.contains(w),a={"m-footer-small__link--bold":!0,[`js-footer-small__link-${n}`]:!0,[w]:s};return t`
                    <li class="m-footer-small__list-item">
                      <a
                        href="${e.href}"
                        class="${i(a)}"
                        @click=${e=>this.handleLanguageClick(e,n)}
                        >${e.textContent}</a
                      >
                    </li>
                  `}))}
            </ul>

            <div class="m-footer-small__disclaimer">
              <ul class="m-footer-small__list">
                ${o(this.querySelectorAll('[slot="disclaimer-item"]'),((e,n)=>t`
                    <li class="m-footer-small__list-item">
                      <a
                        href="${e.href}"
                        @click=${e=>this.handleDisclaimerClick(e,n)}
                        >${e.textContent}</a
                      >
                    </li>
                  `))}
              </ul>
              <div class="js-footer-small__copyright">
                <slot name="copyright"></slot>
              </div>
            </div>
          </div>
        </axa-container>
      </article>
    `}}f([C],{"axa-footer-small":{"axa-footer-small":"7.0.2","axa-container":"5.0.2"}});var N=(t,n)=>((t,n,s)=>{const{tagName:a}=n,o=s?f([n],s):a,i=o.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),r=({children:s,...a})=>{const{attrs:i,props:r}=h(a,n);return e(t)(o,{isReact:!0,attrs:i,...r},s)};return r.displayName=i,r})(t,C,n);export{N as default};
